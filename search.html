---
layout: default
page_title: Search
permalink: /search/
---
<div id="results">
  <h1><!-- `key` listing for `value` --></h1>

  <ul class="results">
    <!-- results lists -->
  </ul>
</div>
<script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
<Script type="text/javascript">
window.onload = function(){
	// Retrieves the value of a GET parameter with a given key
	// Accepts:
	//   param: string
	// Returns:
	//   string or null
	var getParam = function(param) {
	  var queryString = window.location.search.substring(1),
	      queries = queryString.split("&");
	  for (var i in queries) {
	    var pair = queries[i].split("=");
	    if (pair[0] == param) {
	      return pair[1];
	    }
	  }
	  return null;
	};

	var map = {
	  'category' : getParam('category'),
	  'tags'     : getParam('tags')
	};

	$.each(map, function(type, value) {
	  if (value !== null) {
	    $.getJSON('/search.json', function(data) {
	      posts = filterPostsByPropertyValue(data, type, value);
	      if (posts.length === 0) {
	        // Display 'no results found' or similar here
	        noResultsPage();
	      } else {
	        layoutResultsPage(type, value, posts);
	      }
	    });
	  }
	});
}
</Script>